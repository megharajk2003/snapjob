{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.defaultTimeoutProvider = exports.TimeoutManager = void 0;\n  exports.systemSetTimeoutZero = systemSetTimeoutZero;\n  exports.timeoutManager = void 0;\n  // src/timeoutManager.ts\n  var defaultTimeoutProvider = exports.defaultTimeoutProvider = {\n    // We need the wrapper function syntax below instead of direct references to\n    // global setTimeout etc.\n    //\n    // BAD: `setTimeout: setTimeout`\n    // GOOD: `setTimeout: (cb, delay) => setTimeout(cb, delay)`\n    //\n    // If we use direct references here, then anything that wants to spy on or\n    // replace the global setTimeout (like tests) won't work since we'll already\n    // have a hard reference to the original implementation at the time when this\n    // file was imported.\n    setTimeout: (callback, delay) => setTimeout(callback, delay),\n    clearTimeout: timeoutId => clearTimeout(timeoutId),\n    setInterval: (callback, delay) => setInterval(callback, delay),\n    clearInterval: intervalId => clearInterval(intervalId)\n  };\n  var TimeoutManager = class {\n    // We cannot have TimeoutManager<T> as we must instantiate it with a concrete\n    // type at app boot; and if we leave that type, then any new timer provider\n    // would need to support ReturnType<typeof setTimeout>, which is infeasible.\n    //\n    // We settle for type safety for the TimeoutProvider type, and accept that\n    // this class is unsafe internally to allow for extension.\n    #provider = defaultTimeoutProvider;\n    #providerCalled = false;\n    setTimeoutProvider(provider) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (this.#providerCalled && provider !== this.#provider) {\n          console.error(`[timeoutManager]: Switching provider after calls to previous provider might result in unexpected behavior.`, {\n            previous: this.#provider,\n            provider\n          });\n        }\n      }\n      this.#provider = provider;\n      if (process.env.NODE_ENV !== \"production\") {\n        this.#providerCalled = false;\n      }\n    }\n    setTimeout(callback, delay) {\n      if (process.env.NODE_ENV !== \"production\") {\n        this.#providerCalled = true;\n      }\n      return this.#provider.setTimeout(callback, delay);\n    }\n    clearTimeout(timeoutId) {\n      this.#provider.clearTimeout(timeoutId);\n    }\n    setInterval(callback, delay) {\n      if (process.env.NODE_ENV !== \"production\") {\n        this.#providerCalled = true;\n      }\n      return this.#provider.setInterval(callback, delay);\n    }\n    clearInterval(intervalId) {\n      this.#provider.clearInterval(intervalId);\n    }\n  };\n  exports.TimeoutManager = TimeoutManager;\n  var timeoutManager = exports.timeoutManager = new TimeoutManager();\n  function systemSetTimeoutZero(callback) {\n    setTimeout(callback, 0);\n  }\n});","lineCount":72,"map":[[8,2,1,0],[9,2,2,0],[9,6,2,4,"defaultTimeoutProvider"],[9,28,2,26],[9,31,2,26,"exports"],[9,38,2,26],[9,39,2,26,"defaultTimeoutProvider"],[9,61,2,26],[9,64,2,29],[10,4,3,2],[11,4,4,2],[12,4,5,2],[13,4,6,2],[14,4,7,2],[15,4,8,2],[16,4,9,2],[17,4,10,2],[18,4,11,2],[19,4,12,2],[20,4,13,2,"setTimeout"],[20,14,13,12],[20,16,13,14,"setTimeout"],[20,17,13,15,"callback"],[20,25,13,23],[20,27,13,25,"delay"],[20,32,13,30],[20,37,13,35,"setTimeout"],[20,47,13,45],[20,48,13,46,"callback"],[20,56,13,54],[20,58,13,56,"delay"],[20,63,13,61],[20,64,13,62],[21,4,14,2,"clearTimeout"],[21,16,14,14],[21,18,14,17,"timeoutId"],[21,27,14,26],[21,31,14,31,"clearTimeout"],[21,43,14,43],[21,44,14,44,"timeoutId"],[21,53,14,53],[21,54,14,54],[22,4,15,2,"setInterval"],[22,15,15,13],[22,17,15,15,"setInterval"],[22,18,15,16,"callback"],[22,26,15,24],[22,28,15,26,"delay"],[22,33,15,31],[22,38,15,36,"setInterval"],[22,49,15,47],[22,50,15,48,"callback"],[22,58,15,56],[22,60,15,58,"delay"],[22,65,15,63],[22,66,15,64],[23,4,16,2,"clearInterval"],[23,17,16,15],[23,19,16,18,"intervalId"],[23,29,16,28],[23,33,16,33,"clearInterval"],[23,46,16,46],[23,47,16,47,"intervalId"],[23,57,16,57],[24,2,17,0],[24,3,17,1],[25,2,18,0],[25,6,18,4,"TimeoutManager"],[25,20,18,18],[25,23,18,21],[25,29,18,27],[26,4,19,2],[27,4,20,2],[28,4,21,2],[29,4,22,2],[30,4,23,2],[31,4,24,2],[32,4,25,2],[32,5,25,3,"provider"],[32,13,25,11],[32,16,25,14,"defaultTimeoutProvider"],[32,38,25,36],[33,4,26,2],[33,5,26,3,"providerCalled"],[33,19,26,17],[33,22,26,20],[33,27,26,25],[34,4,27,2,"setTimeoutProvider"],[34,22,27,20,"setTimeoutProvider"],[34,23,27,21,"provider"],[34,31,27,29],[34,33,27,31],[35,6,28,4],[35,10,28,8,"process"],[35,17,28,15],[35,18,28,16,"env"],[35,21,28,19],[35,22,28,20,"NODE_ENV"],[35,30,28,28],[35,35,28,33],[35,47,28,45],[35,49,28,47],[36,8,29,6],[36,12,29,10],[36,16,29,14],[36,17,29,15],[36,18,29,16,"providerCalled"],[36,32,29,30],[36,36,29,34,"provider"],[36,44,29,42],[36,49,29,47],[36,53,29,51],[36,54,29,52],[36,55,29,53,"provider"],[36,63,29,61],[36,65,29,63],[37,10,30,8,"console"],[37,17,30,15],[37,18,30,16,"error"],[37,23,30,21],[37,24,31,10],[37,132,31,118],[37,134,32,10],[38,12,32,12,"previous"],[38,20,32,20],[38,22,32,22],[38,26,32,26],[38,27,32,27],[38,28,32,28,"provider"],[38,36,32,36],[39,12,32,38,"provider"],[40,10,32,47],[40,11,33,8],[40,12,33,9],[41,8,34,6],[42,6,35,4],[43,6,36,4],[43,10,36,8],[43,11,36,9],[43,12,36,10,"provider"],[43,20,36,18],[43,23,36,21,"provider"],[43,31,36,29],[44,6,37,4],[44,10,37,8,"process"],[44,17,37,15],[44,18,37,16,"env"],[44,21,37,19],[44,22,37,20,"NODE_ENV"],[44,30,37,28],[44,35,37,33],[44,47,37,45],[44,49,37,47],[45,8,38,6],[45,12,38,10],[45,13,38,11],[45,14,38,12,"providerCalled"],[45,28,38,26],[45,31,38,29],[45,36,38,34],[46,6,39,4],[47,4,40,2],[48,4,41,2,"setTimeout"],[48,14,41,12,"setTimeout"],[48,15,41,13,"callback"],[48,23,41,21],[48,25,41,23,"delay"],[48,30,41,28],[48,32,41,30],[49,6,42,4],[49,10,42,8,"process"],[49,17,42,15],[49,18,42,16,"env"],[49,21,42,19],[49,22,42,20,"NODE_ENV"],[49,30,42,28],[49,35,42,33],[49,47,42,45],[49,49,42,47],[50,8,43,6],[50,12,43,10],[50,13,43,11],[50,14,43,12,"providerCalled"],[50,28,43,26],[50,31,43,29],[50,35,43,33],[51,6,44,4],[52,6,45,4],[52,13,45,11],[52,17,45,15],[52,18,45,16],[52,19,45,17,"provider"],[52,27,45,25],[52,28,45,26,"setTimeout"],[52,38,45,36],[52,39,45,37,"callback"],[52,47,45,45],[52,49,45,47,"delay"],[52,54,45,52],[52,55,45,53],[53,4,46,2],[54,4,47,2,"clearTimeout"],[54,16,47,14,"clearTimeout"],[54,17,47,15,"timeoutId"],[54,26,47,24],[54,28,47,26],[55,6,48,4],[55,10,48,8],[55,11,48,9],[55,12,48,10,"provider"],[55,20,48,18],[55,21,48,19,"clearTimeout"],[55,33,48,31],[55,34,48,32,"timeoutId"],[55,43,48,41],[55,44,48,42],[56,4,49,2],[57,4,50,2,"setInterval"],[57,15,50,13,"setInterval"],[57,16,50,14,"callback"],[57,24,50,22],[57,26,50,24,"delay"],[57,31,50,29],[57,33,50,31],[58,6,51,4],[58,10,51,8,"process"],[58,17,51,15],[58,18,51,16,"env"],[58,21,51,19],[58,22,51,20,"NODE_ENV"],[58,30,51,28],[58,35,51,33],[58,47,51,45],[58,49,51,47],[59,8,52,6],[59,12,52,10],[59,13,52,11],[59,14,52,12,"providerCalled"],[59,28,52,26],[59,31,52,29],[59,35,52,33],[60,6,53,4],[61,6,54,4],[61,13,54,11],[61,17,54,15],[61,18,54,16],[61,19,54,17,"provider"],[61,27,54,25],[61,28,54,26,"setInterval"],[61,39,54,37],[61,40,54,38,"callback"],[61,48,54,46],[61,50,54,48,"delay"],[61,55,54,53],[61,56,54,54],[62,4,55,2],[63,4,56,2,"clearInterval"],[63,17,56,15,"clearInterval"],[63,18,56,16,"intervalId"],[63,28,56,26],[63,30,56,28],[64,6,57,4],[64,10,57,8],[64,11,57,9],[64,12,57,10,"provider"],[64,20,57,18],[64,21,57,19,"clearInterval"],[64,34,57,32],[64,35,57,33,"intervalId"],[64,45,57,43],[64,46,57,44],[65,4,58,2],[66,2,59,0],[66,3,59,1],[67,2,59,2,"exports"],[67,9,59,2],[67,10,59,2,"TimeoutManager"],[67,24,59,2],[67,27,59,2,"TimeoutManager"],[67,41,59,2],[68,2,60,0],[68,6,60,4,"timeoutManager"],[68,20,60,18],[68,23,60,18,"exports"],[68,30,60,18],[68,31,60,18,"timeoutManager"],[68,45,60,18],[68,48,60,21],[68,52,60,25,"TimeoutManager"],[68,66,60,39],[68,67,60,40],[68,68,60,41],[69,2,61,0],[69,11,61,9,"systemSetTimeoutZero"],[69,31,61,29,"systemSetTimeoutZero"],[69,32,61,30,"callback"],[69,40,61,38],[69,42,61,40],[70,4,62,2,"setTimeout"],[70,14,62,12],[70,15,62,13,"callback"],[70,23,62,21],[70,25,62,23],[70,26,62,24],[70,27,62,25],[71,2,63,0],[72,0,63,1],[72,3]],"functionMap":{"names":["<global>","defaultTimeoutProvider.setTimeout","defaultTimeoutProvider.clearTimeout","defaultTimeoutProvider.setInterval","defaultTimeoutProvider.clearInterval","TimeoutManager","TimeoutManager#setTimeoutProvider","TimeoutManager#setTimeout","TimeoutManager#clearTimeout","TimeoutManager#setInterval","TimeoutManager#clearInterval","systemSetTimeoutZero"],"mappings":"AAA;cCY,gDD;gBEC,sCF;eGC,iDH;iBIC,yCJ;qBKE;ECS;GDa;EEC;GFK;EGC;GHE;EIC;GJK;EKC;GLE;CLC;AWE;CXE"}},"type":"js/module"}]}